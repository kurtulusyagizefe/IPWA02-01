<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Register</title>
    <style type="text/css">
        .register-panel {
            width: 400px;
            margin: 100px auto;
        }
        .register-panel .ui-panel-content {
            padding: 20px;
        }
        .ui-messages {
            margin-bottom: 20px;
        }
        .register-input {
            width: 100%;
            margin-bottom: 10px;
        }
    </style>
</h:head>

<h:body>
    <p:panel header="Register" styleClass="register-panel">
        <h:form>
            <p:messages id="messages" showDetail="false" closable="true">
                <p:autoUpdate />
            </p:messages>

            <div class="register-input">
                <p:outputLabel for="username" value="Username:" />
                <p:inputText id="username" value="#{registerBean.username}"
                             required="true"
                             requiredMessage="Username is required"/>
            </div>

            <div class="register-input">
                <p:outputLabel for="password" value="Password:" />
                <p:password id="password" value="#{registerBean.password}"
                            required="true"
                            requiredMessage="Password is required"/>
            </div>

            <div class="register-input">
                <p:outputLabel for="fullName" value="Full Name:" />
                <p:inputText id="fullName" value="#{registerBean.fullName}"
                             required="true"
                             requiredMessage="Full name is required"/>
            </div>

            <div class="register-input">
                <p:outputLabel for="email" value="Email:" />
                <p:inputText id="email" value="#{registerBean.email}"
                             required="true"
                             requiredMessage="Email is required"/>
            </div>

            <div class="register-input">
                <p:outputLabel for="role" value="Role:" />
                <p:selectOneMenu id="role" value="#{registerBean.selectedRoleId}"
                                 required="true"
                                 requiredMessage="Role is required">
                    <f:selectItem itemLabel="Select a role" itemValue=""/>
                    <f:selectItems value="#{registerBean.availableRoles}"/>
                </p:selectOneMenu>
            </div>

            <p:commandButton value="Register"
                             action="#{registerBean.register}"
                             styleClass="ui-button-primary"
                             style="width: 100%; margin-top: 10px;"/>

            <p:link outcome="/login" value="Already have an account? Login"
                    style="display: block; text-align: center; margin-top: 10px;"/>
        </h:form>
    </p:panel>
</h:body>
</html>